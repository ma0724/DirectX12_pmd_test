頂点バッファやインデックスバッファは一つのリソースに
二つの宣言が必要です

DirectX12では、CBV, SRV, UAV, SAMPLERはGPUに配置されてそれ以外の
IVB, VBV, SOV, RTV, DSVはCPU側にのみ存在し、
更にはドライバもVIEW（discriptor）の複製をコマンドリストに積むのでVIEWへの参照を保持しないとのことです。

バーテックスバッファとインデックスバッファは構造体だったんですが
RTVやDSVはID3D12DescriptorHeapの形をとっています。

、、ん？！


＝＝＝＝＝＝＝＝＝＝回想タイム＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
Discriptorがデータブロック
DiscriptorHeapは複数のディスクリプターのための一つのメモリー割り当てと考えることができる

つまり、GPU固有の不透過な形式でGPUへのオブジェクトを記述するデータブロック(GPUのデータブロック)である
Discriptorをメモリー割り当てしてくれるDiscriptorHeapはGPUのメモリを指しているはず
＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

え、だってSRVやCBVはDiscriptorHeapを使用してるからDiscriptorがGPUメモリー上に
存在しているぞい！！

ってゆうことはプログラマはフェンスを駆使してID3D12Descriptorの寿命管理を行わなければ
なりません。SRVやCBVの場合な。。。(GPU側に配置)

ところがRTVやDSVはAPI呼出し後はコマンドリストが実行前でもRTVやDSVは破壊しない限り
書き換えても構わないということらしいです。。(CPU側に配置)

あああ幸せ

要は、テクスチャは中間リソースを使う場合UpdateSubresource()の中でリソースバリアは
してくれるが、そこから先は自分がリソースバリアをしなくてはならない
そしてSRVを作成した後にはコマンドリストを閉じてテクスチャコマンドの記録が終わったことを
伝える
そしてコマンドキューのExecuteCommandlist()で記録したコマンドリストを実行して
GPU側に転送します。ここで転送自体はすぐに終わるけどGPU側ではすぐに処理が終わらない
場合があるのでSignalでシグナル状態にして、SetEventOnComletion()をつかってイベントが
終了したときに与える数値を設定します

そんでもってもうコマンドが送り終わったらいらないのでアロケータとリストをリセットすることを忘れずに！







