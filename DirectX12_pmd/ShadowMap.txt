シャドウマップの概念

①ライトビュー
②テクスチャの深度値への書き込み(難関)
③深度地の比較

第一段階:ライトからの深度値をテクスチャに書き込む
第二段階:通常のカメラレンダリングを描画する

この時の第二段階がすごく大切なんです

どうやって比較すればいいか、それは
「光源からの距離」が「光線遮蔽物より遠くにあるのかどうか」である

まず光源からの光が遮断されるまでの距離は①段階で計算されます
(光源から見えている＆＆カメラから見えている→明るく見える)
ただし0.0 <= s <= 1.0である
こうなる理由は後で話します。

これは深度バッファに書き込むときに最終的にテクスチャに書き込む必要があるので
0～1の範囲にしなければなりません
つまり１足して２で割ってます。
つまり、0～1へ正規化された「光源からの距離」と最初に光源から取った
デプス値を比較するわけです。
さて、比較というわけですがライトからみた「カメラ行列」で変換した値と
第①でとった深度値を比較すればいいわけです。

複数のPSO以外にもシャドウ用のPSOが必要になります。なのでつくります！！
ちなみにシャドウ用のPSOをつくる際は影の深さ情報だけなので

まずは仮想的なライトの位置を設定してあげる

vb[0].UV = {0.0f, 0.0f};
	vb[1].UV = {1.0f, 0.0f};
	vb[2].UV = {0.0f, 1.0f};
	vb[3].UV = {1.0f, 1.0f};

影のバッファで軽くカメラみたいなイメージをする
そのバッファ専用のシェーダではCPU側でView*prijectionを処理して
向こうでwordをかけて行列を完成させたげる
影カメラ専用パスとモデル両方にも影を送る理由がわかった
つまり
